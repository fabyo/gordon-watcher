# ═══════════════════════════════════════════════════════════
#  GORDON WATCHER - ENVIRONMENT VARIABLES (EXAMPLE)
# ═══════════════════════════════════════════════════════════
# Copy this file to .env and adjust the values for your environment

# ─────────────────────────────────────────────────────────
#  Application
# ─────────────────────────────────────────────────────────
APP_NAME=gordon-watcher
APP_VERSION=dev
APP_ENVIRONMENT=development

# ─────────────────────────────────────────────────────────
#  RabbitMQ
# ─────────────────────────────────────────────────────────
RABBITMQ_URL=amqp://gordon:gordon123@localhost:5672/
RABBITMQ_EXCHANGE=gordon.files
RABBITMQ_QUEUE=gordon.files.processing
RABBITMQ_ROUTING_KEY=file.new
RABBITMQ_DURABLE=true

# DLQ Configuration
RABBITMQ_DLQ_ENABLED=true
RABBITMQ_DLQ_EXCHANGE=gordon.files.dlq
RABBITMQ_DLQ_QUEUE=gordon.files.dead

# ─────────────────────────────────────────────────────────
#  Redis
# ─────────────────────────────────────────────────────────
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# ─────────────────────────────────────────────────────────
#  Telemetry (Jaeger)
# ─────────────────────────────────────────────────────────
TELEMETRY_ENABLED=true
TELEMETRY_SERVICE_NAME=gordon-watcher
TELEMETRY_ENDPOINT=http://localhost:14268/api/traces

# ─────────────────────────────────────────────────────────
#  Metrics (Prometheus)
# ─────────────────────────────────────────────────────────
METRICS_ADDR=:9100

# ─────────────────────────────────────────────────────────
#  Health Check
# ─────────────────────────────────────────────────────────
HEALTH_ADDR=:8081

# ─────────────────────────────────────────────────────────
#  Logging
# ─────────────────────────────────────────────────────────
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_OUTPUT=stdout

# ─────────────────────────────────────────────────────────
#  Watcher Configuration
# ─────────────────────────────────────────────────────────
WATCHER_PATHS=/opt/gordon-watcher/data/incoming
WATCHER_WORKING_DIR=/opt/gordon-watcher/data
WATCHER_MAX_WORKERS=10
WATCHER_MAX_FILES_PER_SECOND=100
WATCHER_WORKER_QUEUE_SIZE=20

# File patterns (comma-separated)
WATCHER_FILE_PATTERNS=*.xml,*.zip
WATCHER_EXCLUDE_PATTERNS=.*,*.tmp,*Zone.Identifier

# File size limits (bytes)
WATCHER_MIN_FILE_SIZE=100
WATCHER_MAX_FILE_SIZE=104857600

# Stability check
WATCHER_STABLE_ATTEMPTS=5
WATCHER_STABLE_DELAY=200ms

# Cleanup
WATCHER_CLEANUP_INTERVAL=5m
