app:
  name: gordon-watcher
  version: dev
  environment: development

watcher:
  paths:
    - /tmp/gordon-test/data/incoming  # ✅ Caminho ABSOLUTO
  
  file_patterns:
    - "*.xml"
    - "*.zip"
  
  exclude_patterns:
    - ".*"
    - "*.tmp"
  
  min_file_size: 100
  max_file_size: 104857600
  
  stable_attempts: 3
  stable_delay: 100ms
  
  cleanup_interval: 2m
  
  max_workers: 5
  max_files_per_second: 50
  worker_queue_size: 10
  
  working_dir: /tmp/gordon-test/data  # ✅ Caminho ABSOLUTO
  
  sub_directories:
    processing: processing
    processed: processed
    failed: failed
    ignored: ignored
    tmp: tmp

queue:
  enabled: false

redis:
  enabled: false

metrics:
  addr: :9100

health:
  addr: :8081

telemetry:
  enabled: false

logger:
  level: debug
  format: text
  output: stdout

cleanup:
  enabled: true
  schedule: "0 0 * * *"  # Cron: meia-noite todo dia
  retention:
    processed: 0   # 0 = nunca apaga, >0 = dias para manter
    failed: 1      # Apaga após 1 dia
    ignored: 1     # Apaga após 1 dia
    tmp: 0         # Sempre limpa imediatamente
